{"id":"Focm","dependencies":[{"name":"/home/gtah2mint/Workspace/smartserver/package.json","includedInParent":true,"mtime":1567944161912},{"name":"./generated/prisma-client","loc":{"line":3,"column":27},"parent":"/home/gtah2mint/Workspace/smartserver/src/index.js","resolved":"/home/gtah2mint/Workspace/smartserver/src/generated/prisma-client/index.js"}],"generated":{"js":"function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(o,!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const n=require(\"express\"),o=require(\"body-parser\"),{prisma:s}=require(\"./generated/prisma-client\"),a=n();a.use(o.json()),a.post(\"/user\",async(e,r)=>{const n=await s.createUser(t({},e.body));r.json(n)}),a.post(\"/post\",async(e,t)=>{const{title:r,content:n,authorEmail:o}=e.body,a=await s.createPost({title:r,content:n,author:{connect:{email:o}}});t.json(a)}),a.put(\"/publish/:id\",async(e,t)=>{const{id:r}=e.params,n=await s.updatePost({where:{id:r},data:{published:!0}});t.json(n)}),a.delete(\"/post/:id\",async(e,t)=>{const{id:r}=e.params,n=await s.deletePost({id:r});t.json(n)}),a.get(\"/post/:id\",async(e,t)=>{const{id:r}=e.params,n=await s.post({id:r});t.json(n)}),a.get(\"/feed\",async(e,t)=>{const r=await s.posts({where:{published:!0}});t.json(r)}),a.get(\"/filterPosts\",async(e,t)=>{const{searchString:r}=e.query,n=await s.posts({where:{OR:[{title_contains:r},{content_contains:r}]}});t.json(n)}),a.listen(3e3,()=>console.log(\"Server is running on http://localhost:3000\"));"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":9}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":11}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":16}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":20}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":22}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":29}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":34}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":37}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":40}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":47}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":69}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":70}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":74}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":76}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":83}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":105}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":108}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":112}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":114}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":116}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":123}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":132}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":135}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":142}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":149}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":174}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":176}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":179}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":193}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":195}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":200}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":206}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":208}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":211}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":218}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":220}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":229}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":231}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":234}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":238}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":242}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":244}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":246}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":248}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":258}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":265}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":269}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":270}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":274}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":276}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":282}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":292}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":295}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":305}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":308}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":311}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":313}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":315}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":317}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":320}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":323}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":331}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":340}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":343}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":345}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":347}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":349}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":351}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":357}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":364}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":390}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":397}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":414}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":416}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":423}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":449}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":453}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":455}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":458}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":466}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":475}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":478}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":485}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":500}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":502}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":504}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":511}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":536}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":538}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":544}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":551}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":553}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":562}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":564}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":566}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":568}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":571}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":578}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":583}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":585}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":592}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":607}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":609}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":611}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":612}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":618}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":620}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":632}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":634}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":648}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":650}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":660}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":664}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":666}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":669}},{"source":"index.js","original":{"line":69,"column":0},"generated":{"line":1,"column":671}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":673}},{"source":"index.js","name":"express","original":{"line":1,"column":6},"generated":{"line":1,"column":679}},{"source":"index.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":681}},{"source":"index.js","original":{"line":1,"column":24},"generated":{"line":1,"column":689}},{"source":"index.js","name":"bodyParser","original":{"line":2,"column":6},"generated":{"line":1,"column":700}},{"source":"index.js","name":"require","original":{"line":2,"column":19},"generated":{"line":1,"column":702}},{"source":"index.js","original":{"line":2,"column":27},"generated":{"line":1,"column":710}},{"source":"index.js","original":{"line":3,"column":6},"generated":{"line":1,"column":726}},{"source":"index.js","name":"prisma","original":{"line":3,"column":8},"generated":{"line":1,"column":733}},{"source":"index.js","name":"require","original":{"line":3,"column":19},"generated":{"line":1,"column":736}},{"source":"index.js","original":{"line":3,"column":27},"generated":{"line":1,"column":744}},{"source":"index.js","name":"app","original":{"line":5,"column":6},"generated":{"line":1,"column":773}},{"source":"index.js","name":"express","original":{"line":5,"column":12},"generated":{"line":1,"column":775}},{"source":"index.js","name":"app","original":{"line":7,"column":0},"generated":{"line":1,"column":779}},{"source":"index.js","name":"use","original":{"line":7,"column":4},"generated":{"line":1,"column":781}},{"source":"index.js","name":"bodyParser","original":{"line":7,"column":8},"generated":{"line":1,"column":785}},{"source":"index.js","name":"json","original":{"line":7,"column":19},"generated":{"line":1,"column":787}},{"source":"index.js","name":"app","original":{"line":9,"column":0},"generated":{"line":1,"column":795}},{"source":"index.js","name":"post","original":{"line":9,"column":4},"generated":{"line":1,"column":797}},{"source":"index.js","original":{"line":9,"column":10},"generated":{"line":1,"column":802}},{"source":"index.js","original":{"line":9,"column":18},"generated":{"line":1,"column":810}},{"source":"index.js","name":"req","original":{"line":9,"column":25},"generated":{"line":1,"column":816}},{"source":"index.js","name":"res","original":{"line":9,"column":30},"generated":{"line":1,"column":818}},{"source":"index.js","name":"result","original":{"line":10,"column":8},"generated":{"line":1,"column":823}},{"source":"index.js","name":"result","original":{"line":10,"column":8},"generated":{"line":1,"column":829}},{"source":"index.js","name":"prisma","original":{"line":10,"column":23},"generated":{"line":1,"column":837}},{"source":"index.js","name":"createUser","original":{"line":10,"column":30},"generated":{"line":1,"column":839}},{"source":"index.js","name":"req","original":{"line":11,"column":7},"generated":{"line":1,"column":850}},{"source":"index.js","name":"req","original":{"line":11,"column":7},"generated":{"line":1,"column":852}},{"source":"index.js","name":"req","original":{"line":11,"column":7},"generated":{"line":1,"column":855}},{"source":"index.js","name":"body","original":{"line":11,"column":11},"generated":{"line":1,"column":857}},{"source":"index.js","name":"res","original":{"line":13,"column":2},"generated":{"line":1,"column":864}},{"source":"index.js","name":"json","original":{"line":13,"column":6},"generated":{"line":1,"column":866}},{"source":"index.js","name":"result","original":{"line":13,"column":11},"generated":{"line":1,"column":871}},{"source":"index.js","name":"app","original":{"line":16,"column":0},"generated":{"line":1,"column":876}},{"source":"index.js","name":"post","original":{"line":16,"column":4},"generated":{"line":1,"column":878}},{"source":"index.js","original":{"line":16,"column":10},"generated":{"line":1,"column":883}},{"source":"index.js","original":{"line":16,"column":18},"generated":{"line":1,"column":891}},{"source":"index.js","name":"req","original":{"line":16,"column":25},"generated":{"line":1,"column":897}},{"source":"index.js","name":"res","original":{"line":16,"column":30},"generated":{"line":1,"column":899}},{"source":"index.js","original":{"line":17,"column":8},"generated":{"line":1,"column":904}},{"source":"index.js","original":{"line":17,"column":8},"generated":{"line":1,"column":910}},{"source":"index.js","name":"title","original":{"line":17,"column":10},"generated":{"line":1,"column":916}},{"source":"index.js","original":{"line":17,"column":8},"generated":{"line":1,"column":918}},{"source":"index.js","name":"content","original":{"line":17,"column":17},"generated":{"line":1,"column":926}},{"source":"index.js","original":{"line":17,"column":8},"generated":{"line":1,"column":928}},{"source":"index.js","name":"authorEmail","original":{"line":17,"column":26},"generated":{"line":1,"column":940}},{"source":"index.js","name":"req","original":{"line":17,"column":42},"generated":{"line":1,"column":943}},{"source":"index.js","name":"body","original":{"line":17,"column":46},"generated":{"line":1,"column":945}},{"source":"index.js","name":"result","original":{"line":18,"column":8},"generated":{"line":1,"column":950}},{"source":"index.js","name":"prisma","original":{"line":18,"column":23},"generated":{"line":1,"column":958}},{"source":"index.js","name":"createPost","original":{"line":18,"column":30},"generated":{"line":1,"column":960}},{"source":"index.js","original":{"line":18,"column":41},"generated":{"line":1,"column":971}},{"source":"index.js","name":"title","original":{"line":19,"column":4},"generated":{"line":1,"column":972}},{"source":"index.js","name":"title","original":{"line":19,"column":11},"generated":{"line":1,"column":978}},{"source":"index.js","name":"content","original":{"line":20,"column":4},"generated":{"line":1,"column":980}},{"source":"index.js","name":"content","original":{"line":20,"column":13},"generated":{"line":1,"column":988}},{"source":"index.js","name":"author","original":{"line":21,"column":4},"generated":{"line":1,"column":990}},{"source":"index.js","original":{"line":21,"column":12},"generated":{"line":1,"column":997}},{"source":"index.js","name":"connect","original":{"line":21,"column":14},"generated":{"line":1,"column":998}},{"source":"index.js","original":{"line":21,"column":23},"generated":{"line":1,"column":1006}},{"source":"index.js","name":"email","original":{"line":21,"column":25},"generated":{"line":1,"column":1007}},{"source":"index.js","name":"authorEmail","original":{"line":21,"column":32},"generated":{"line":1,"column":1013}},{"source":"index.js","name":"res","original":{"line":23,"column":2},"generated":{"line":1,"column":1019}},{"source":"index.js","name":"json","original":{"line":23,"column":6},"generated":{"line":1,"column":1021}},{"source":"index.js","name":"result","original":{"line":23,"column":11},"generated":{"line":1,"column":1026}},{"source":"index.js","name":"app","original":{"line":26,"column":0},"generated":{"line":1,"column":1031}},{"source":"index.js","name":"put","original":{"line":26,"column":4},"generated":{"line":1,"column":1033}},{"source":"index.js","original":{"line":26,"column":8},"generated":{"line":1,"column":1037}},{"source":"index.js","original":{"line":26,"column":24},"generated":{"line":1,"column":1052}},{"source":"index.js","name":"req","original":{"line":26,"column":31},"generated":{"line":1,"column":1058}},{"source":"index.js","name":"res","original":{"line":26,"column":36},"generated":{"line":1,"column":1060}},{"source":"index.js","original":{"line":27,"column":8},"generated":{"line":1,"column":1065}},{"source":"index.js","original":{"line":27,"column":8},"generated":{"line":1,"column":1071}},{"source":"index.js","name":"id","original":{"line":27,"column":10},"generated":{"line":1,"column":1074}},{"source":"index.js","name":"req","original":{"line":27,"column":17},"generated":{"line":1,"column":1077}},{"source":"index.js","name":"params","original":{"line":27,"column":21},"generated":{"line":1,"column":1079}},{"source":"index.js","name":"post","original":{"line":28,"column":8},"generated":{"line":1,"column":1086}},{"source":"index.js","name":"prisma","original":{"line":28,"column":21},"generated":{"line":1,"column":1094}},{"source":"index.js","name":"updatePost","original":{"line":28,"column":28},"generated":{"line":1,"column":1096}},{"source":"index.js","original":{"line":28,"column":39},"generated":{"line":1,"column":1107}},{"source":"index.js","name":"where","original":{"line":29,"column":4},"generated":{"line":1,"column":1108}},{"source":"index.js","original":{"line":29,"column":11},"generated":{"line":1,"column":1114}},{"source":"index.js","name":"id","original":{"line":29,"column":13},"generated":{"line":1,"column":1115}},{"source":"index.js","name":"id","original":{"line":29,"column":13},"generated":{"line":1,"column":1118}},{"source":"index.js","name":"data","original":{"line":30,"column":4},"generated":{"line":1,"column":1121}},{"source":"index.js","original":{"line":30,"column":10},"generated":{"line":1,"column":1126}},{"source":"index.js","name":"published","original":{"line":30,"column":12},"generated":{"line":1,"column":1127}},{"source":"index.js","original":{"line":30,"column":23},"generated":{"line":1,"column":1138}},{"source":"index.js","name":"res","original":{"line":32,"column":2},"generated":{"line":1,"column":1143}},{"source":"index.js","name":"json","original":{"line":32,"column":6},"generated":{"line":1,"column":1145}},{"source":"index.js","name":"post","original":{"line":32,"column":11},"generated":{"line":1,"column":1150}},{"source":"index.js","name":"app","original":{"line":35,"column":0},"generated":{"line":1,"column":1155}},{"source":"index.js","name":"delete","original":{"line":35,"column":4},"generated":{"line":1,"column":1157}},{"source":"index.js","original":{"line":35,"column":12},"generated":{"line":1,"column":1164}},{"source":"index.js","original":{"line":35,"column":24},"generated":{"line":1,"column":1176}},{"source":"index.js","name":"req","original":{"line":35,"column":31},"generated":{"line":1,"column":1182}},{"source":"index.js","name":"res","original":{"line":35,"column":36},"generated":{"line":1,"column":1184}},{"source":"index.js","original":{"line":36,"column":8},"generated":{"line":1,"column":1189}},{"source":"index.js","original":{"line":36,"column":8},"generated":{"line":1,"column":1195}},{"source":"index.js","name":"id","original":{"line":36,"column":10},"generated":{"line":1,"column":1198}},{"source":"index.js","name":"req","original":{"line":36,"column":17},"generated":{"line":1,"column":1201}},{"source":"index.js","name":"params","original":{"line":36,"column":21},"generated":{"line":1,"column":1203}},{"source":"index.js","name":"post","original":{"line":37,"column":8},"generated":{"line":1,"column":1210}},{"source":"index.js","name":"prisma","original":{"line":37,"column":21},"generated":{"line":1,"column":1218}},{"source":"index.js","name":"deletePost","original":{"line":37,"column":28},"generated":{"line":1,"column":1220}},{"source":"index.js","original":{"line":37,"column":39},"generated":{"line":1,"column":1231}},{"source":"index.js","name":"id","original":{"line":37,"column":41},"generated":{"line":1,"column":1232}},{"source":"index.js","name":"id","original":{"line":37,"column":41},"generated":{"line":1,"column":1235}},{"source":"index.js","name":"res","original":{"line":38,"column":2},"generated":{"line":1,"column":1239}},{"source":"index.js","name":"json","original":{"line":38,"column":6},"generated":{"line":1,"column":1241}},{"source":"index.js","name":"post","original":{"line":38,"column":11},"generated":{"line":1,"column":1246}},{"source":"index.js","name":"app","original":{"line":41,"column":0},"generated":{"line":1,"column":1251}},{"source":"index.js","name":"get","original":{"line":41,"column":4},"generated":{"line":1,"column":1253}},{"source":"index.js","original":{"line":41,"column":9},"generated":{"line":1,"column":1257}},{"source":"index.js","original":{"line":41,"column":21},"generated":{"line":1,"column":1269}},{"source":"index.js","name":"req","original":{"line":41,"column":28},"generated":{"line":1,"column":1275}},{"source":"index.js","name":"res","original":{"line":41,"column":33},"generated":{"line":1,"column":1277}},{"source":"index.js","original":{"line":42,"column":8},"generated":{"line":1,"column":1282}},{"source":"index.js","original":{"line":42,"column":8},"generated":{"line":1,"column":1288}},{"source":"index.js","name":"id","original":{"line":42,"column":10},"generated":{"line":1,"column":1291}},{"source":"index.js","name":"req","original":{"line":42,"column":17},"generated":{"line":1,"column":1294}},{"source":"index.js","name":"params","original":{"line":42,"column":21},"generated":{"line":1,"column":1296}},{"source":"index.js","name":"post","original":{"line":43,"column":8},"generated":{"line":1,"column":1303}},{"source":"index.js","name":"prisma","original":{"line":43,"column":21},"generated":{"line":1,"column":1311}},{"source":"index.js","name":"post","original":{"line":43,"column":28},"generated":{"line":1,"column":1313}},{"source":"index.js","original":{"line":43,"column":33},"generated":{"line":1,"column":1318}},{"source":"index.js","name":"id","original":{"line":43,"column":35},"generated":{"line":1,"column":1319}},{"source":"index.js","name":"id","original":{"line":43,"column":35},"generated":{"line":1,"column":1322}},{"source":"index.js","name":"res","original":{"line":44,"column":2},"generated":{"line":1,"column":1326}},{"source":"index.js","name":"json","original":{"line":44,"column":6},"generated":{"line":1,"column":1328}},{"source":"index.js","name":"post","original":{"line":44,"column":11},"generated":{"line":1,"column":1333}},{"source":"index.js","name":"app","original":{"line":47,"column":0},"generated":{"line":1,"column":1338}},{"source":"index.js","name":"get","original":{"line":47,"column":4},"generated":{"line":1,"column":1340}},{"source":"index.js","original":{"line":47,"column":8},"generated":{"line":1,"column":1344}},{"source":"index.js","original":{"line":47,"column":17},"generated":{"line":1,"column":1352}},{"source":"index.js","name":"req","original":{"line":47,"column":24},"generated":{"line":1,"column":1358}},{"source":"index.js","name":"res","original":{"line":47,"column":29},"generated":{"line":1,"column":1360}},{"source":"index.js","name":"posts","original":{"line":48,"column":8},"generated":{"line":1,"column":1365}},{"source":"index.js","name":"posts","original":{"line":48,"column":8},"generated":{"line":1,"column":1371}},{"source":"index.js","name":"prisma","original":{"line":48,"column":22},"generated":{"line":1,"column":1379}},{"source":"index.js","name":"posts","original":{"line":48,"column":29},"generated":{"line":1,"column":1381}},{"source":"index.js","original":{"line":48,"column":35},"generated":{"line":1,"column":1387}},{"source":"index.js","name":"where","original":{"line":48,"column":37},"generated":{"line":1,"column":1388}},{"source":"index.js","original":{"line":48,"column":44},"generated":{"line":1,"column":1394}},{"source":"index.js","name":"published","original":{"line":48,"column":46},"generated":{"line":1,"column":1395}},{"source":"index.js","original":{"line":48,"column":57},"generated":{"line":1,"column":1406}},{"source":"index.js","name":"res","original":{"line":49,"column":2},"generated":{"line":1,"column":1411}},{"source":"index.js","name":"json","original":{"line":49,"column":6},"generated":{"line":1,"column":1413}},{"source":"index.js","name":"posts","original":{"line":49,"column":11},"generated":{"line":1,"column":1418}},{"source":"index.js","name":"app","original":{"line":52,"column":0},"generated":{"line":1,"column":1423}},{"source":"index.js","name":"get","original":{"line":52,"column":4},"generated":{"line":1,"column":1425}},{"source":"index.js","original":{"line":52,"column":8},"generated":{"line":1,"column":1429}},{"source":"index.js","original":{"line":52,"column":24},"generated":{"line":1,"column":1444}},{"source":"index.js","name":"req","original":{"line":52,"column":31},"generated":{"line":1,"column":1450}},{"source":"index.js","name":"res","original":{"line":52,"column":36},"generated":{"line":1,"column":1452}},{"source":"index.js","original":{"line":53,"column":8},"generated":{"line":1,"column":1457}},{"source":"index.js","original":{"line":53,"column":8},"generated":{"line":1,"column":1463}},{"source":"index.js","name":"searchString","original":{"line":53,"column":10},"generated":{"line":1,"column":1476}},{"source":"index.js","name":"req","original":{"line":53,"column":27},"generated":{"line":1,"column":1479}},{"source":"index.js","name":"query","original":{"line":53,"column":31},"generated":{"line":1,"column":1481}},{"source":"index.js","name":"draftPosts","original":{"line":54,"column":8},"generated":{"line":1,"column":1487}},{"source":"index.js","name":"prisma","original":{"line":54,"column":27},"generated":{"line":1,"column":1495}},{"source":"index.js","name":"posts","original":{"line":54,"column":34},"generated":{"line":1,"column":1497}},{"source":"index.js","original":{"line":54,"column":40},"generated":{"line":1,"column":1503}},{"source":"index.js","name":"where","original":{"line":55,"column":4},"generated":{"line":1,"column":1504}},{"source":"index.js","original":{"line":55,"column":11},"generated":{"line":1,"column":1510}},{"source":"index.js","name":"OR","original":{"line":56,"column":6},"generated":{"line":1,"column":1511}},{"source":"index.js","original":{"line":56,"column":10},"generated":{"line":1,"column":1514}},{"source":"index.js","original":{"line":57,"column":8},"generated":{"line":1,"column":1515}},{"source":"index.js","name":"title_contains","original":{"line":58,"column":10},"generated":{"line":1,"column":1516}},{"source":"index.js","name":"searchString","original":{"line":58,"column":26},"generated":{"line":1,"column":1531}},{"source":"index.js","original":{"line":60,"column":8},"generated":{"line":1,"column":1534}},{"source":"index.js","name":"content_contains","original":{"line":61,"column":10},"generated":{"line":1,"column":1535}},{"source":"index.js","name":"searchString","original":{"line":61,"column":28},"generated":{"line":1,"column":1552}},{"source":"index.js","name":"res","original":{"line":66,"column":2},"generated":{"line":1,"column":1559}},{"source":"index.js","name":"json","original":{"line":66,"column":6},"generated":{"line":1,"column":1561}},{"source":"index.js","name":"draftPosts","original":{"line":66,"column":11},"generated":{"line":1,"column":1566}},{"source":"index.js","name":"app","original":{"line":69,"column":0},"generated":{"line":1,"column":1571}},{"source":"index.js","name":"listen","original":{"line":69,"column":4},"generated":{"line":1,"column":1573}},{"source":"index.js","original":{"line":69,"column":11},"generated":{"line":1,"column":1580}},{"source":"index.js","original":{"line":69,"column":17},"generated":{"line":1,"column":1584}},{"source":"index.js","name":"console","original":{"line":70,"column":2},"generated":{"line":1,"column":1588}},{"source":"index.js","name":"log","original":{"line":70,"column":10},"generated":{"line":1,"column":1596}},{"source":"index.js","original":{"line":70,"column":14},"generated":{"line":1,"column":1600}}],"sources":{"index.js":"const express = require('express')\nconst bodyParser = require('body-parser')\nconst { prisma } = require('./generated/prisma-client')\n\nconst app = express()\n\napp.use(bodyParser.json())\n\napp.post(`/user`, async (req, res) => {\n  const result = await prisma.createUser({\n    ...req.body,\n  })\n  res.json(result)\n})\n\napp.post(`/post`, async (req, res) => {\n  const { title, content, authorEmail } = req.body\n  const result = await prisma.createPost({\n    title: title,\n    content: content,\n    author: { connect: { email: authorEmail } },\n  })\n  res.json(result)\n})\n\napp.put('/publish/:id', async (req, res) => {\n  const { id } = req.params\n  const post = await prisma.updatePost({\n    where: { id },\n    data: { published: true },\n  })\n  res.json(post)\n})\n\napp.delete(`/post/:id`, async (req, res) => {\n  const { id } = req.params\n  const post = await prisma.deletePost({ id })\n  res.json(post)\n})\n\napp.get(`/post/:id`, async (req, res) => {\n  const { id } = req.params\n  const post = await prisma.post({ id })\n  res.json(post)\n})\n\napp.get('/feed', async (req, res) => {\n  const posts = await prisma.posts({ where: { published: true } })\n  res.json(posts)\n})\n\napp.get('/filterPosts', async (req, res) => {\n  const { searchString } = req.query\n  const draftPosts = await prisma.posts({\n    where: {\n      OR: [\n        {\n          title_contains: searchString,\n        },\n        {\n          content_contains: searchString,\n        },\n      ],\n    },\n  })\n  res.json(draftPosts)\n})\n\napp.listen(3000, () =>\n  console.log('Server is running on http://localhost:3000'),\n)"},"lineCount":null}},"error":null,"hash":"a11fb3a07c02c66177debce89cf62d33","cacheData":{"env":{}}}